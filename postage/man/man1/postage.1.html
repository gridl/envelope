<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
POSTAGE(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
POSTAGE(1)</td>
<td class="head-vol">
Postage Manual</td>
<td class="head-rtitle">
POSTAGE(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> <i>postage</i> - PostgreSQL Administration for the web</div>
<div class="section">
<h1>FULL PATH</h1> This instance of postage was installed as <b>/usr/local/sbin/postage</b> (Usually <b>/usr/local/sbin/postage</b> )</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>postage</b><div style="margin-left: 5.00ex;">
<div style="height: 0.00em;">
&#160;</div>
[-h | --help]<div style="height: 0.00em;">
&#160;</div>
[-v | --version]<div style="height: 0.00em;">
&#160;</div>
[-c &lt;config-file&gt; | --config-file=&lt;config-file&gt;]<div style="height: 0.00em;">
&#160;</div>
[-d &lt;connection-file&gt; | --connection-file=&lt;connection-file&gt;]<div style="height: 0.00em;">
&#160;</div>
[-s &lt;super-only&gt; | --super-only=&lt;super-only&gt;]<div style="height: 0.00em;">
&#160;</div>
[-g &lt;login-group&gt; | --login-group=&lt;login-group&gt;]<div style="height: 0.00em;">
&#160;</div>
[-r &lt;web-root&gt; | --web-root=&lt;web-root&gt;]<div style="height: 0.00em;">
&#160;</div>
[-a &lt;data-root&gt; | --data-root=&lt;data-root&gt;]<div style="height: 0.00em;">
&#160;</div>
[-p &lt;port&gt; | --port=&lt;port&gt;]<div style="height: 0.00em;">
&#160;</div>
[-j &lt;tls-cert&gt; | --tls-cert=&lt;tls-cert&gt;]<div style="height: 0.00em;">
&#160;</div>
[-k &lt;tls-key&gt; | --tls-key=&lt;tls-key&gt;]<div style="height: 0.00em;">
&#160;</div>
[-l &lt;log-level&gt; | --log-level=&lt;log-level&gt;]<div style="height: 0.00em;">
&#160;</div>
[-n &lt;allow_custom_connections&gt; | --allow-custom-connections=&lt;allow-custom-connections&gt;]<div style="height: 0.00em;">
&#160;</div>
[-t &lt;login-timeout&gt; | --login-timeout=&lt;login-timeout&gt;]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>postage</b> utility is a tool to make managing your PostgreSQL database fast and easy. It provides web access and can be used on a tablet, or even on a phone.<div class="spacer">
</div>
All log output is pushed to stderr, if you are pushing that to a file, then you must handle rotating the file yourself or it will get large and slow <b>postage</b> down.</div>
<div class="section">
<h1>OPTIONS</h1> <b>-h</b> or <b>--help</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
Print usage and exit</div>
<div class="spacer">
</div>
<b>-v</b> or <b>--version</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
Print version information and exit</div>
<div class="spacer">
</div>
<b>-c</b> or <b>--config-file=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>String;</b> defaults to /usr/local/etc/postage/postage.conf<div style="height: 0.00em;">
&#160;</div>
You can use this option to tell Postage where to look for the configuration file. A sample configuration file is provided in /usr/local/etc/postage. If there is no file specified Postage will look in the current directory for a config file. If no config file is found Postage will proceed with default values.</div>
<div class="spacer">
</div>
The following options can be specified on the command line or in the configuration file. In the event a value is specified on the command line and in the config file, Postage will always use the command line option. Note that if no option is specified then some options will be set to a default value.<div class="spacer">
</div>
<b>[command line short]</b> or <b>[command line long]</b> or <b>[config file]</b><div class="spacer">
</div>
<b>-d</b> or <b>--connection-file=</b> or <b>connection_file=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>String;</b> defaults to /usr/local/etc/postage/postage-connections.conf<div style="height: 0.00em;">
&#160;</div>
When you install Postage, the Makefile will generate a path to the sample postage-connections.conf file and put it in the sample config file. Use this option to tell Postage where your connection list is located.<div style="height: 0.00em;">
&#160;</div>
If not specified, Postage looks in the same folder as the config file for a file named postage-connections.conf. If Postage can't find a connection file, it will error.</div>
<div class="spacer">
</div>
<b>-s</b> or <b>--super-only=</b> or <b>super_only=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>Boolean;</b> defaults to true<div style="height: 0.00em;">
&#160;</div>
This tells Postage whether or not to only allow super users to login. The recommended value is true and will restrict users who are not super users from logging in to any PostgreSQL instance through Postage. Note that a connection will be made to PostgreSQL in order to test if the user is a superuser.</div>
<div class="spacer">
</div>
<b>-g</b> or <b>--login-group=</b> or <b>login_group=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>String;</b> no default<div style="height: 0.00em;">
&#160;</div>
This tells Postage to only allow users in a certain PostgreSQL group to login to Postage. Note that a connection will be made to PostgreSQL in order to test if the user is a member of the login group.</div>
<div class="spacer">
</div>
<b>-r</b> or <b>--web-root=</b> or <b>web_root=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>String;</b> Defaults to /usr/local/etc/postage/web_root<div style="height: 0.00em;">
&#160;</div>
This tells Postage where the HTML files have been installed to.</div>
<div class="spacer">
</div>
<b>-a</b> or <b>--data-root=</b> or <b>data_root=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>String;</b> defaults to ~/.postage/<div style="height: 0.00em;">
&#160;</div>
This tells Postage where to put the SQL file history. All tabs are saved to this location so that if you get disconnected from Postage you don't lose your work.</div>
<div class="spacer">
</div>
<b>-p</b> or <b>--postage-port=</b> or <b>postage_port=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>Integer;</b> defaults to 8080<div style="height: 0.00em;">
&#160;</div>
This tells Postage what port to listen on for browser requests.</div>
<div class="spacer">
</div>
<b>-j</b> or <b>--tls-cert=</b> or <b>tls_cert=</b><div style="height: 0.00em;">
&#160;</div>
<b>-k</b> or <b>--tls-key=</b> or <b>tls_key=</b><div style="margin-left: 5.00ex;">
<b>String;</b> no defaults<div style="height: 0.00em;">
&#160;</div>
These options tell Postage where the TLS Certificate and Key files reside. If you use these options then you'll only be able to access Postage through a secure TLS connection.<div style="height: 0.00em;">
&#160;</div>
These options are only necessary if you wish to connect directly to Postage using a secure TLS connection. As an alternative, you can set up Postage in a reverse proxy configuration. This allows your web server to terminate the secure connection and pass on the request to Postage. You can find help to set up this configuration in the INSTALL_NGINX file that came with your distribution.</div>
<div class="spacer">
</div>
<b>-n</b> or <b>--allow-custom-connections=</b> or <b>allow_custom_connections=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>Boolean;</b> defaults to false<div style="height: 0.00em;">
&#160;</div>
This tells Postage whether or not to allow anyone to use a custom connection from the login screen.</div>
<div class="spacer">
</div>
<b>-l</b> or <b>--log-level=</b> or <b>log_level=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>String;</b> defaults to error<div style="height: 0.00em;">
&#160;</div>
This option regulates the frequency and verbosity of log messages. Possible values are none, error, warn, notice and info.</div>
<div class="spacer">
</div>
<b>-t</b> or <b>--login-timeout=</b> or <b>login-timeout=</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<b>Integer;</b> defaults to 1200<div style="height: 0.00em;">
&#160;</div>
This option regulates the timeout after the last page is closed.</div>
</div>
<div class="section">
<h1>SETTING UP A CONNECTION TO A POSTGRESQL SERVER</h1> Postage requires at least one PostgreSQL server be listed in the postage-connections.conf file. This version of Postage doesn't allow you to specify a server from the command line. Enter only one PostgreSQL server per line.<div class="spacer">
</div>
<b>The format of a connection string is:</b><div style="margin-left: 5.00ex;">
[server_name]: [standard PostgreSQL connection string]</div>
<div class="spacer">
</div>
Detailed information about PostgreSQL connection strings is available at: http://www.postgresql.org/docs/current/static/libpq-connect.html<div class="spacer">
</div>
Note that you do not enter your user name or password in this file. That information will be entered on the login screen. If you put a username or password in this file, it will be removed by Postage before attempting to connect to a database.<div style="height: 1.00em;">
&#160;</div>
<b>EXAMPLE CONNECTION STRINGS:</b><div style="margin-left: 5.00ex;">
nuc-server: hostaddr=192.168.0.100 port=5432 dbname=postgres<div style="height: 0.00em;">
&#160;</div>
mini-server: hostaddr=127.0.0.1 port=5432 dbname=postgres sslmode=require</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>EXAMPLES</h1> Run Postage (short argument):<div style="margin-left: 5.00ex;">
/usr/local/sbin/postage -c /usr/local/etc/postage/postage.conf -d /usr/local/etc/postage/postage-connections.conf</div>
<div class="spacer">
</div>
Run Postage (long argument):<div style="margin-left: 5.00ex;">
/usr/local/sbin/postage --config-file=/usr/local/etc/postage/postage.conf --connection-file /usr/local/etc/postage/postage-connections.conf</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>TROUBLESHOOTING</h1> Try accessing your database through psql. If you can, double check your connection string parameters. If you can't connect, you may have a firewall problem.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Copyright (c) 2016 Workflow Products, LLC<div style="height: 0.00em;">
&#160;</div>
Created by Annunziato Tocci<div style="height: 0.00em;">
&#160;</div>
Report bugs to nunzio@wfprod.com. Send us feedback! Current contact information can be found at workflowproducts.com.</div>
<table class="foot">
<tr>
<td class="foot-date">
August 29, 2016</td>
<td class="foot-os">
GREYSPOTS</td>
</tr>
</table>
</div>
</body>
</html>

