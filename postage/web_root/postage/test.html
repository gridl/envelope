<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />

	<title>Postage Test Backend</title>

	<script src="/js/greyspots.js" type="text/javascript"></script>
	<link href="/css/greyspots.css" rel="stylesheet" type="text/css" />
	<link href="/css/postage.css" rel="stylesheet" type="text/css" />

	<script>
        (function () {
            'use strict';
            function ajaxCheckJSONResponseForError(request) {
                if (request.responseJSON) {
                    if (request.responseJSON.stat === false) {
                        return true;
                    }
                } else {
                    return true;
                }

                return false;
            }

            function ajaxNormalizeError(request) {
                var response = request.response, jsnTemp, jsnRet = {
                    'error_title': '',
                    'error_hint': '',
                    'error_text': '',
                    'error_file': '',
                    'error_context': '',
                    'original_response': response
                };

                // get error title and error hint
                if (request.bolFrontEndTimeout === true) {
                    jsnRet.error_text = 'Front-end Timeout Reached';
                    jsnRet.error_title = 'Front-end Timeout Reached';
                    jsnRet.error_hint = 'This request took too long. Please report this to a system administrator.';

                } else if (response.status === 403) {
                    jsnRet.error_title = '403 Link Is Forbidden';
                    jsnRet.error_hint = 'You have no permission to use this link. If you need this link contact a system administrator and request permission for this link.';

                } else if (response.status === 404) {
                    jsnRet.error_title = '404 Link Could Not Be Found';
                    jsnRet.error_hint = 'This link does not exist. Please report this to a system administrator.';

                } else if (response.status === 408) {
                    jsnRet.error_title = '408 Request Took Too Long';
                    jsnRet.error_hint = 'This link is broken. Please report this to a system administrator.';

                } else if (response.status === 500) {
                    jsnRet.error_title = '500 Internal Server Error';
                    jsnRet.error_hint = 'This call to the server failed. Please report this to a system administrator.';

                } else if (response.status === 502) {
                    jsnRet.error_title = '502 Bad Gateway';
                    jsnRet.error_hint = 'This link is broken. Please report this to a system administrator.';

                } else if (response.status === 504) {
                    jsnRet.error_title = '504 Gateway Timeout';
                    jsnRet.error_hint = 'This link is broken. Please report this to a system administrator.';
                }

                // get error text
                try {
                    jsnTemp = JSON.parse(response.responseText || response).dat;

                    jsnRet.error_text = jsnTemp.error;
                    jsnRet.error_file = jsnTemp.filename;
                    jsnRet.error_context = jsnTemp.context;

                    if (!jsnRet.error_text) {
                        jsnRet.error_text = JSON.parse(response.responseText || response).dat;
                    }
                } catch (err) {
                    if (response) {
                        jsnRet.error_text = response.responseText || JSON.stringify(response);
                    } else {
                        jsnRet.error_text = jsnRet.error_text || response;
                    }
                }

                jsnRet.error_file = jsnRet.error_file || '';

                return jsnRet;
            }

            GS.ajaxJSON = function (strLink, strParams, callback, intTimeout) {
                var request = new XMLHttpRequest();

                callback = callback || function () { };

                request.onreadystatechange = function () {
                    var normalizedError;

                    if (request.readyState === 4) {
                        try {
                            request.responseJSON = JSON.parse(request.responseText || request.response);
                        } catch (e) {
                            //throw e;
                        }

                        if (!ajaxCheckJSONResponseForError(request)) {
                            callback(request.responseJSON);

                        } else {
                            normalizedError = ajaxNormalizeError(request);

                            // if session error: have the user log back in and refresh
                            if ((normalizedError.error_text.indexOf('Session expired') === 0 ||
                                normalizedError.error_text.indexOf('No Cookie') !== -1 ||
                                normalizedError.error_text.indexOf('requires you to login') !== -1) &&
                                strLink.indexOf('action_info') === -1) {
                                    GS.normalUserLogin(function () {
                                            window.location.reload();
                                    }, '', request.responseJSON.dat.default_subdomain);

                                    // else: callback with normalized error
                            } else {
                                callback(normalizedError, 'error');
                            }
                        }
                    }
                };

                request.open('POST', strLink, true);
                request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded; charset=UTF-8');
                request.send(strParams);

                // if intTimeout has been set: start a timer to abort
                if (typeof intTimeout === 'number') {
                    if (request && request.readyState !== 4) {
                        setTimeout(function () {
                            request.bolFrontEndTimeout = true;
                            request.abort();
                        }, intTimeout);
                    }
                }

                return request;
            };

            GS.ajaxText = function (strLink, strParams, callback, intTimeout) {
                var request = new XMLHttpRequest();

                callback = callback || function () { };

                request.onreadystatechange = function () {
                    var normalizedError;

                    if (request.readyState === 4) {
                        if (request.status === 200) {
                            callback(request.responseText);

                        } else {
                            normalizedError = ajaxNormalizeError(request);

                            // if session error: have the user log back in and refresh
                            if ((normalizedError.error_text.indexOf('Session expired') === 0 ||
                                normalizedError.error_text.indexOf('No Cookie') !== -1 ||
                                normalizedError.error_text.indexOf('requires you to login') !== -1) &&
                                strLink.indexOf('action_info') === -1) {
                                    GS.normalUserLogin(function () {
                                            window.location.reload();
                                    }); //, '', JSON.parse(request.responseText || request.response).dat.default_subdomain

                                    // else: callback with normalized error
                            } else {
                                    callback(normalizedError, 'error');
                            }
                        }
                    }
                };

                request.open('POST', strLink, true);
                request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded; charset=UTF-8');
				if (strLink === '/test.txt?if_modified_since=true') {
					request.setRequestHeader('If-Modified-Since', 'Mon, 1 Aug 2050 21:12:11 GMT');
				}
                request.send(strParams);

                // if intTimeout has been set: start a timer to abort
                if (typeof intTimeout === 'number') {
                    if (request && request.readyState !== 4) {
                        setTimeout(function () {
                            request.bolFrontEndTimeout = true;
                            request.abort();
                        }, intTimeout);
                    }
                }

                return request;
            };
        }());
		GS.pushState({}, 'Postage Test Backend', '/postage/0/index.html');
		var Local = {};
		var test_random = Math.random().toString().substring(2);
		var test_change_stamp = new Date();
		test_change_stamp.setMinutes(test_change_stamp.getMinutes());
		test_change_stamp = test_change_stamp.toISOString().replace('T', ' ').replace(/\..*/gi, '');
		Local.tests = [
			//['Stress test', 'stress'],
			['File Read Fail 1', 'ajax', 404, '/test2.txt', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 2', 'ajax', 440, '/postage/66/index.html', '',
				ml(function () {/*"You need to login.\n"*/ })],
			['File Read Fail 3', 'ajax', 404, '/postage/AAA/index.html', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 4', 'ajax', 440, '/postage/66AAA/index.html', '',
				ml(function () {/*"You need to login.\n"*/ })],
			['File Read 1', 'ajax', 200, '/test.txt', '',
				ml(function () {/*TESTING*/ })],
			//Custom GS.ajaxText looks for /test.txt?if_modified_since=true
			//It then sends a If-Modified-Since header
			['File Read If-Modified-Since', 'ajax', 304, '/test.txt?if_modified_since=true', '', ''],
			['List Connections', 'ajax', 200, '/postage/auth', 'action=list',
				ml(function () {/*test
localhost@5432
ip example
host example*/})],
			['Login Fail 1', 'ajax', 500, '/postage/auth', 'action=login&connname=doesntexist&username=postgres&password=password',
				ml(function () {/*"FATAL\nThere is no connection info with that name."*/ })],
			['Login Fail 2', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=doesntexist&password=password',
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"doesntexist\"\n"*/ })],
			['Login Fail 3', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=' + encodeURIComponent('test"test') +
						'&password=' + encodeURIComponent('asdfasdfasdfasdfasdf'),
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"test\"test\"\n"*/ })],
			['Login Fail 4', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=' + encodeURIComponent('test"tes\'t2') +
						'&password=' + encodeURIComponent('asdfasdfasdfasdfasdf'),
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"test\"tes't2\"\n"*/ })],
			['Login Fail 5', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=' + encodeURIComponent('test"test3') +
						'&password=' + encodeURIComponent('asdfasdf\'asdf"asdfasdf'),
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"test\"test3\"\n"*/ })],
			['Login Fail 6', 'ajax', 500, '/postage/auth', 'action=login&connname=test&password=' + encodeURIComponent('asdfasdf\'asdf"asdfasdf'),
				ml(function () {/*"FATAL\nno username"*/ })],
			['Login Fail 7', 'ajax', 500, '/postage/auth', 'action=login&connname=&username=password=asdfasdfasdfasdf',
				ml(function () {/*"FATAL\nThere is no connection info with that name."*/ })],
			['Login Fail 8', 'ajax', 500, '/postage/auth', 'action=login&connname=&username=&password=',
				ml(function () {/*"FATAL\nno username"*/ })],
			['Login Fail 9', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=&password=',
				ml(function () {/*"FATAL\nno username"*/ })],
			['Login Fail 10', 'ajax', 500, '/postage/auth', '',
				ml(function () {/*"Not a valid action."*/ })],
			['Login Fail 11', 'ajax', 500, '/postage/auth', 'action=login',
				ml(function () {/*"FATAL\nno username"*/ })],
			['Login Fail 12', 'ajax', 500, '/postage/auth', 'action=login&connname=asdfadsf&username=postgres&password=fasdf',
				ml(function () {/*"FATAL\nThere is no connection info with that name."*/ })],
			['Login Fail 13 *', 'ajax spam', 500, '/postage/auth', 'action=login&connname=test&username=postgres&password=fasdf',
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"postgres\"\n"*/ })],
			['Login Fail 14', 'ajax', 500, '/postage/auth', 'action=login&connname=ip%20example&username=postgres&password=fasdf',
				function (data) {
					return data === ml(function () {/*"FATAL\nConnect failed: could not connect to server: Connection refused\n\tIs the server running on host \"127.0.0.1\" and accepting\n\tTCP/IP connections on port 5442?\n"*/ }) ||
						data === ml(function () {/*"FATAL\ncannot start connect: could not connect to server: Connection refused\n\tIs the server running on host \"127.0.0.1\" and accepting\n\tTCP/IP connections on port 5442?\n\n"*/ }) ||
						data === ml(function () {/*"FATAL\nConnect failed: could not connect to server: Connection refused (0x0000274D/10061)\n\tIs the server running on host \"127.0.0.1\" and accepting\n\tTCP/IP connections on port 5442?\n"*/ });
				}],
			['Login Fail 15', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=postgres&password=' + encodeURIComponent('test!@#$%^&*()|<>?,./:+-*/=ƒ©˙∆test'),
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"postgres\"\n"*/ })],
			['Login Fail 16', 'ajax', 500, '/postage/auth', 'action=login&connname=test&username=' + encodeURIComponent('test!@#$%^&*()|<>?,./:+-/*=ƒ©˙∆test') + '&password=testtest',
				ml(function () {/*"FATAL\nConnect failed: FATAL:  password authentication failed for user \"test!@#$%^&*()|<>?,./:+-/*=ƒ©˙∆test\"\n"*/ })],
			['Login Fail 17', 'ajax', 500, '/postage/auth', 'action=' + encodeURIComponent('loginπ'),
				ml(function () {/*"Not a valid action."*/ })],
			['Login Fail 18', 'ajax', 500, '/postage/auth', 'action=loginbasdf',
				ml(function () {/*"Not a valid action."*/ })],
			['Login Fail 19', 'ajax', 500, '/postage/auth', 'action=login&connection=' + encodeURIComponent('π') + '&username=' + encodeURIComponent('π') + '&password=' + encodeURIComponent('π'),
				ml(function () {/*"FATAL\nThere is no connection info with that name."*/ })],
			['Login Fail 20', 'ajax', 500, '/postage/auth', 'action=login&connection=' + encodeURIComponent('π\'π') + '&username=' + encodeURIComponent('π') + '&password=' + encodeURIComponent('π'),
				ml(function () {/*"FATAL\nThere is no connection info with that name."*/ })],
			['Login Fail 21', 'ajax', 404, '/postage/authasdf', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['Login Fail 22', 'ajax', 500, '/postage/auth', 'test=test&a@&#=te=st',
				ml(function () {/*"Not a valid action."*/ })],
			['Logout before login *', 'ajax spam', 200, '/postage/auth', 'action=logout', ''],
			['Login 1', 'ajax', 200, '/postage/auth', 'action=login&connname=test&username=postgres&password=password',
				ml(function () {/*{"stat": true, "dat": "/postage/0/index.html"}*/ })],
			[
				'Login 2',
				'ajax',
				200,
				'/postage/auth',
				new Blob(['action=login&connname=test&username=postgres&password=password'], {type: 'text/plain'}),
				ml(function () {/*{"stat": true, "dat": "/postage/0/index.html"}*/ })
			],
			[
				'Login 3',
				'ajax',
				200,
				'/postage/auth',
				new Blob(['action=login&connname=test&username=postgres&password=password'], {type: 'application/octet-binary'}),
				ml(function () {/*{"stat": true, "dat": "/postage/0/index.html"}*/ })
			],
			[
				'Login 4',
				'ajax',
				200,
				'/postage/auth',
				new Blob(['action=login&connname=test&username=postgres&password=password'], {type: 'application/x-binary'}),
				ml(function () {/*{"stat": true, "dat": "/postage/0/index.html"}*/ })
			],
			[
				'Login 5 *',
				'ajax spam',
				200,
				'/postage/auth',
				'action=login&connname=test&username=postgres&password=password',
				ml(function () {/*{"stat": true, "dat": "/postage/0/index.html"}*/ })
			],
			
			['File Read Fail 5', 'ajax', 500, '/postage/0//index.html', '',
				function (data) {
					return data === ml(function () {/*"FATAL\n..\\..\\util\\util_canonical.c:canonical: postage\\app\\\\index.html is a bad path. Path contains invalid characters.\n\nBad file path"*/ }) ||
						data === ml(function () {/*"FATAL\n../util/util_canonical.c:canonical: postage/app//index.html is a bad path. Path contains invalid characters.\n\nBad file path"*/ });
				}],
			['File Read Fail 6', 'ajax', 404, '/postage/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/asdf/index.html', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 7', 'ajax', 440, '/postage/00/index.html', '',
				ml(function () {/*"You need to login.\n"*/ })],
			['File Read Fail 8', 'ajax', 404, '/postage/postage/0/index.html', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 9', 'ajax', 500, '/postage/0/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/index.html', '',
				function (data) {
					return data === ml(function () {/*"FATAL\n..\\..\\util\\util_canonical.c:canonical: postage\\app\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\ASDF\\index.html is a bad path. Path exceeds maximum length.\n\nBad file path"*/ }) ||
						data === ml(function () {/*"FATAL\n../util/util_canonical.c:canonical: postage/app/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/ASDF/index.html is a bad path. Path exceeds maximum length.\n\nBad file path"*/});
				}],
			['File Read 2', 'ajax', 200, '/test.txt', '',
				ml(function () {/*TESTING*/ })],
			['File Read 3', 'ajax', 200, '/test.txt', '',
				ml(function () {/*TESTING*/ })],
			['File Read Fail 10', 'ajax', 404, '/postage/0/index.htm', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 11', 'ajax', 500, '/postage/0/index.π', '',
				function (data) {
					return data === ml(function () {/*"FATAL\n..\\..\\util\\util_canonical.c:canonical: postage\\app\\index.π is a bad path. Path contains invalid characters.\n\nBad file path"*/ }) ||
						data === ml(function () {/*"FATAL\n../util/util_canonical.c:canonical: postage/app/index.π is a bad path. Path contains invalid characters.\n\nBad file path"*/ })
				}
			],
			['File Read Fail 12', 'ajax', 404, '/postage/0/index.php', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 13', 'ajax', 404, '/postage/index.php', '',
				ml(function () {/*"The file you are requesting is not here."*/ })],
			['File Read Fail 14', 'ajax', 500, '/postage/π', '',
				function (data) {
					return data === ml(function () {/*"FATAL\n..\\..\\util\\util_canonical.c:canonical: postage\\π is a bad path. Path contains invalid characters.\n\nBad file path"*/ }) ||
						data === ml(function () {/*"FATAL\n../util/util_canonical.c:canonical: postage/π is a bad path. Path contains invalid characters.\n\nBad file path"*/});
				}],
			['File Read 4', 'ajax', 200, '/' + ml(function () {/*postage/0/index.html?view=home&test=!@#$%^&*()<>?:"{}|,./;'[]\=/*-+.~`œ∑´®†¥¨ˆøπåßƒ©˙∆˚¬Ω≈√∫˜µŒ„´‰ˇÁ¨ˆØ∏ÅÍÎÏ˝ÓÔÒ¸˛Ç◊ı˜Â*/}), '', ''],
			['File Read 5', 'ajax', 200, '/test.txt?test=test/postage/index.html?test=test', '',
				ml(function () {/*TESTING*/ })],
			['File Read Fail 16', 'ajax', 404, '/postag', '',
				ml(function () {/*"The file you are requesting is not here."*/})],
			
			['Invalid Action', 'ajax', 500, '/postage/auth', 'action=change_password&password_old=password&password_new=test1',
				ml(function () {/*"Not a valid action."*/})],
			['Change Password', 'ajax', 200, '/postage/auth', 'action=change_pw&password_old=password&password_new=test1',
				ml(function () {/*{"stat": true, "dat": "OK"}*/})],
			['Change Password Fail', 'ajax', 500, '/postage/auth', 'action=change_pw&password_old=test&password_new=test',
				ml(function () {/*"FATAL\nOld password does not match."*/})],
			['Change Password', 'ajax', 200, '/postage/auth', 'action=change_pw&password_old=test1&password_new=password',
				ml(function () {/*{"stat": true, "dat": "OK"}*/})],
			['Switch DB', 'ajax', 200, '/postage/auth', 'action=change_database&database=template1',
				ml(function () {/*{"stat": true, "dat": "OK"}*/})],
			['Switch DB Fail', 'ajax', 500, '/postage/auth', 'action=change_database&database=template20',
				ml(function () {/*"FATAL\nConnect failed: FATAL:  database \"template20\" does not exist\n"*/ })],
			['Switch DB', 'ajax', 200, '/postage/auth', 'action=change_database&database=postgres',
				ml(function () {/*{"stat": true, "dat": "OK"}*/})],
			['Upload Fail 1', 'ajax', 500, '/postage/0/upload', '',
				function (data) {
					return data === ml(function () {/*"FATAL\n..\\..\\util\\util_request.c:get_sun_upload: Cannot find boundary for request\nget_sun_upload failed"*/}) ||
						data === ml(function () {/*"FATAL\n../util/util_request.c:get_sun_upload: Cannot find boundary for request\nget_sun_upload failed"*/});
				}],
			['Upload', 'upload', 200, '/postage/0/upload', '/open/test' + test_random + '.sql',
				ml(function () {/*Upload Succeeded
*/})],
			['Upload Fail 2', 'upload', 500, '/postage/0/upload', '/open/test' + test_random + '.sql',
				ml(function () {/*FATAL
File already exists.*/})],
			['Download Fail', 'ajax', 404, '/postage/0/download/test' + test_random + '.sql', '',
				ml(function () {/*"The file you are requesting is not here."*/})],
			['Download', 'ajax', 200, '/postage/0/download/open/test' + test_random + '.sql', '',
				'SELECT \'This is \0some\n\n tesr\r\n\r\nt \r\rsql\';'],
			['Export Fail 1', 'ajax', 500, '/postage/0/export', 'SELECT \'test',
				ml(function () {/*"FATAL\ncould not find start of attr names"*/})],
			['Export Fail 2', 'ajax', 500, '/postage/0/export', 'SELECT \'test\n' +
				'FORMAT	DELIMITER	NULL	QUOTE	ESCAPE	HEADER\n' +
				'\'csv\'	\',\'	\'NULL\'	\'"\'	\'\\\'	TRUE',
				ml(function () {/*"FATAL\nerror_text\tERROR:  syntax error at or near \"csv\"\\nLINE 4:   FORMAT 'csv',\\n                  ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t50\n"*/ })],
			['Export', 'ajax', 200, '/postage/0/export', 'SELECT \'test\' AS result\n' +
				'FORMAT	DELIMITER	NULL	QUOTE	ESCAPE	HEADER\n' +
				'\'csv\'	\',\'	\'NULL\'	\'"\'	\'\\\'	TRUE',
				ml(function () {/*result
test
*/
				})],
			[
                'action_info', // name
                'ajax', // call type
                200, // ajax response code
                '/postage/0/action_info', // link
                '', // params?
                function (strValue) {
                    try {
                        var test = JSON.parse(strValue);
                        
                        // will fail if test.dat.WHATEVER is empty
                        test.dat.username.indexOf('test');
                        test.dat.session_user.indexOf('test');
                        test.dat.current_user.indexOf('test');
                        test.dat.database_version.indexOf('test');
                    } catch (e) {
                        return false;
                    }
                    return true;
                }
            ],
			['WS OPEN W/INFO', 'websocket start', '', '', ''],
			['TAB LIST FAIL 1', 'websocket', '', 'TAB LIST /open/',
			['bstrstr failed', 'TRANSACTION COMPLETED']],
			['TAB LIST FAIL 2', 'websocket', '', 'TAB\tLIST\t/ipen/',
			[
				[
					"../util/util_canonical.c:canonical: read_dir: /home/super/.postage/sql/test_postgres/postgres/|ipen/ is a bad path. Path does not exist.\n\nFailed to get canonical path: >/home/super/.postage/sql/test_postgres/postgres|/ipen/<",
					"../util/util_canonical.c:canonical: read_dir: /Users/joseph/.postage/sql/test_postgres/postgres/|ipen/ is a bad path. Path does not exist.\n\nFailed to get canonical path: >/Users/joseph/.postage/sql/test_postgres/postgres|/ipen/<",
					"..\\..\\util\\util_canonical.c:canonical: read_dir: \\Users\\Nunzio Tocci\\AppData\\Roaming\\postage\\sql\\test_postgres\\postgres\\|ipen\\ is a bad path. Path does not exist.\n\nFailed to get canonical path: >\\Users\\Nunzio Tocci\\AppData\\Roaming\\postage\\sql\\test_postgres\\postgres|/ipen/<"
				],
				"TRANSACTION COMPLETED"
			]],
			['TAB LIST', 'websocket', '', 'TAB\tLIST\t/open/',
			['ANYTHING', 'TRANSACTION COMPLETED']],
			['TAB READ FAIL', 'websocket', '', 'TAB\tREAD\t/ipen/test' + test_random + '.sql',
			[
				[
					"../util/util_canonical.c:canonical: read_file: /home/super/.postage/sql/test_postgres/postgres/|ipen/test" + test_random + ".sql is a bad path. Path does not exist.\n\nFailed to get canonical path: >/home/super/.postage/sql/test_postgres/postgres|/ipen/test" + test_random + ".sql<",
					"../util/util_canonical.c:canonical: read_file: /Users/joseph/.postage/sql/test_postgres/postgres/|ipen/test" + test_random + ".sql is a bad path. Path does not exist.\n\nFailed to get canonical path: >/Users/joseph/.postage/sql/test_postgres/postgres|/ipen/test" + test_random + ".sql<",
					"..\\..\\util\\util_canonical.c:canonical: read_file: \\Users\\Nunzio Tocci\\AppData\\Roaming\\postage\\sql\\test_postgres\\postgres\\|ipen\\test" + test_random + ".sql is a bad path. Path does not exist.\n\nFailed to get canonical path: >\\Users\\Nunzio Tocci\\AppData\\Roaming\\postage\\sql\\test_postgres\\postgres|/ipen/test" + test_random + ".sql<"
				],
				"TRANSACTION COMPLETED"
			]],
			['TAB READ', 'websocket', '', 'TAB\tREAD\t/open/test' + test_random + '.sql',
			['ANYTHING', 'TRANSACTION COMPLETED']],
			['TAB WRITE FAIL 1', 'websocket', '', 'TAB\tWRITE\t/open/test' + test_random + '.sql\t10000000000000\nThis is a test\n',
			["Someone updated this file before you."]],
			['TAB WRITE FAIL 2', 'websocket', '', 'TAB\tWRITE\t/open/test' + test_random + '.sql 10000000000000\nThis is a test\n',
			['strstr failed', 'TRANSACTION COMPLETED']],
			['TAB WRITE', 'websocket', '', 'TAB\tWRITE\t/open/test' + test_random + '.sql\t0\nThis is a test\n',
			['ANYTHING', 'TRANSACTION COMPLETED']],
			['TAB MOVE FAIL 1', 'websocket', '', 'TAB\tMOVE\t/ipen/test' + test_random + '.sql\t/closed/test' + test_random + '.sql\n',
			[
				[
					"../util/util_canonical.c:canonical: read_file: /home/super/.postage/sql/test_postgres/postgres/|ipen/test" + test_random + ".sql is a bad path. Path does not exist.\n\nFailed to get canonical path: >/home/super/.postage/sql/test_postgres/postgres|/ipen/test" + test_random + ".sql<",
					"../util/util_canonical.c:canonical: read_file: /Users/joseph/.postage/sql/test_postgres/postgres/|ipen/test" + test_random + ".sql is a bad path. Path does not exist.\n\nFailed to get canonical path: >/Users/joseph/.postage/sql/test_postgres/postgres|/ipen/test" + test_random + ".sql<",
					"..\\..\\util\\util_canonical.c:canonical: read_file: \\Users\\Nunzio Tocci\\AppData\\Roaming\\postage\\sql\\test_postgres\\postgres\\|ipen\\test" + test_random + ".sql is a bad path. Path does not exist.\n\nFailed to get canonical path: >\\Users\\Nunzio Tocci\\AppData\\Roaming\\postage\\sql\\test_postgres\\postgres|/ipen/test" + test_random + ".sql<"
				],
				"TRANSACTION COMPLETED"
			]],
			['TAB MOVE FAIL 2', 'websocket', '', 'TAB\tMOVE\t/open/test' + test_random + '.sql\t/open/\n',
			[
				[
					"rename failed: -1, 17 (File exists)",
					"rename failed: -1, 21 (Is a directory)",
					"rename failed: -1, 39 (Directory not empty)"
				],
				"TRANSACTION COMPLETED"
			]],
			['TAB MOVE', 'websocket', '', 'TAB\tMOVE\t/open/test' + test_random + '.sql\t/closed/test' + test_random + '.sql\n',
			['ANYTHING', 'TRANSACTION COMPLETED']],
			['CANCEL', 'websocket cancel', '', ml(function () {/*RAW
SELECT pg_sleep(5);
*/})],
			['RAW FAIL 1', 'websocket', '', ml(function () {/*RAW
å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥
*/}),
				[
					"QUERY\tå´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥\\n",
					"START",
					"NOTICE\t identifier \"å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥\" will be truncated to \"å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®\"\n",
					"END",
					"Query failed: FATAL\nerror_text\tERROR:  syntax error at or near \"å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥\"\\nLINE 1: å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆...\\n        ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t1\n"
				]
			],
			['RAW FAIL 2', 'websocket', '', ml(function () {/*RAW*/}),
			["Invalid RAW request"]],
			['RAW 1', 'websocket', '', ml(function () {/*RAW
SELECT 'This is some test sql';
*/}),
			[
				'QUERY\tSELECT \'This is some test sql\';',
				'START',
				'END',
				'ROWS\t1',
				'COLUMNS\n?column?\nunknown\n',
				'This is some test sql',
				'\\.',
				'TRANSACTION COMPLETED'
			]],
			['RAW 2', 'websocket', '', ml(function () {/*RAW
DO $$ DECLARE
BEGIN
RAISE NOTICE 'å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥';
END $$
*/}),
			[
				[
					"QUERY\tDO $$ DECLARE\\nBEGIN\\nRAISE NOTICE 'å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥';\\nEND $$\\n",
					"START",
					"NOTICE\t å´††¥¨†ˆø¥¨ø†ˆ¨®†¥∂ƒ˙∂®†¥¨®†¥†®†¥†¥®†¥®†¥††ƒ©˙ƒ©˙∆ƒ©¨¥ˆ†¥¥˙∆˚¥¨††∆†˚††¥∆˚¨¥¥¥¥¥¥¥¥\\n",
					"END",
					"Rows Affected\n0\n",
					"TRANSACTION COMPLETED"
				]
			]],
			['RAW W/NOTIFY', 'websocket', '', ml(function () {/*RAW
LISTEN postgres;
DROP VIEW IF EXISTS ttesting_view2;
DROP VIEW IF EXISTS ttesting_view;
DROP TABLE IF EXISTS rtesting_table2;
DROP TABLE IF EXISTS rtesting_table;
CREATE TABLE rtesting_table
(
id integer,
test_name character varying(150),
"select" character varying(150),
"test@test" character varying(150),
CONSTRAINT rtesting_table_pk PRIMARY KEY (id)
) WITH (
OIDS=FALSE
);
CREATE OR REPLACE VIEW ttesting_view AS
 SELECT id, test_name
   FROM (
	 SELECT id, test_name
       FROM (SELECT id, test_name
         FROM (SELECT id, test_name
           FROM rtesting_table
          ) em1
       ) em2
     ) em3;
CREATE TABLE rtesting_table2
(
id integer,
test_name character varying(150),
"select" character varying(150),
"test@test" character varying(150),
CONSTRAINT rtesting_table2_pk PRIMARY KEY (id)
) WITH (
OIDS=FALSE
);
CREATE OR REPLACE VIEW ttesting_view2 AS
 SELECT rtesting_table.id AS id_1, 
		rtesting_table.test_name AS test_name_1,
		rtesting_table2.id AS id_2, 
		rtesting_table2.test_name AS test_name_2
   FROM rtesting_table
   LEFT JOIN rtesting_table2 ON rtesting_table2.id = rtesting_table.id;
CREATE OR REPLACE RULE ttesting_view2_delete AS
    ON DELETE TO ttesting_view2 DO INSTEAD  DELETE FROM rtesting_table
  WHERE old.id_1 = rtesting_table.id;
CREATE OR REPLACE RULE ttesting_view2_insert AS
    ON INSERT TO ttesting_view2 DO INSTEAD  INSERT INTO rtesting_table (id, test_name) 
  VALUES (new.id_1, new.test_name_1);
CREATE OR REPLACE RULE ttesting_view2_update AS
    ON UPDATE TO ttesting_view2 DO INSTEAD  UPDATE rtesting_table SET test_name = new.test_name_1
  WHERE old.id_1 = rtesting_table.id;
NOTIFY postgres, 'testing';
*/
			}),
				[
					"QUERY\tLISTEN postgres;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nDROP VIEW IF EXISTS ttesting_view2;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nDROP VIEW IF EXISTS ttesting_view;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nDROP TABLE IF EXISTS rtesting_table2;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nDROP TABLE IF EXISTS rtesting_table;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE TABLE rtesting_table\\n(\\nid integer,\\ntest_name character varying(150),\\n\"select\" character varying(150),\\n\"test@test\" character varying(150),\\nCONSTRAINT rtesting_table_pk PRIMARY KEY (id)\\n) WITH (\\nOIDS=FALSE\\n);",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE OR REPLACE VIEW ttesting_view AS\\n SELECT id, test_name\\n   FROM (\\n\\t SELECT id, test_name\\n       FROM (SELECT id, test_name\\n         FROM (SELECT id, test_name\\n           FROM rtesting_table\\n          ) em1\\n       ) em2\\n     ) em3;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE TABLE rtesting_table2\\n(\\nid integer,\\ntest_name character varying(150),\\n\"select\" character varying(150),\\n\"test@test\" character varying(150),\\nCONSTRAINT rtesting_table2_pk PRIMARY KEY (id)\\n) WITH (\\nOIDS=FALSE\\n);",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE OR REPLACE VIEW ttesting_view2 AS\\n SELECT rtesting_table.id AS id_1, \\n\\t\\trtesting_table.test_name AS test_name_1,\\n\\t\\trtesting_table2.id AS id_2, \\n\\t\\trtesting_table2.test_name AS test_name_2\\n   FROM rtesting_table\\n   LEFT JOIN rtesting_table2 ON rtesting_table2.id = rtesting_table.id;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE OR REPLACE RULE ttesting_view2_delete AS\\n    ON DELETE TO ttesting_view2 DO INSTEAD  DELETE FROM rtesting_table\\n  WHERE old.id_1 = rtesting_table.id;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE OR REPLACE RULE ttesting_view2_insert AS\\n    ON INSERT TO ttesting_view2 DO INSTEAD  INSERT INTO rtesting_table (id, test_name) \\n  VALUES (new.id_1, new.test_name_1);",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nCREATE OR REPLACE RULE ttesting_view2_update AS\\n    ON UPDATE TO ttesting_view2 DO INSTEAD  UPDATE rtesting_table SET test_name = new.test_name_1\\n  WHERE old.id_1 = rtesting_table.id;",
					"START",
					"END",
					"Rows Affected\n0\n",
					"QUERY\t\\nNOTIFY postgres, 'testing';",
					"START",
					"END",
					"Rows Affected\n0\n",
					"TRANSACTION COMPLETED"
				]
			],
			['BEGIN FAIL 1', 'websocket', '', ml(function () {/*BEGINπ*/ }),
			["Invalid Request Type \"BEGINπ\"\n"]],
			['BEGIN FAIL 2', 'websocket', '', ml(function () {/*BEGINBEGIN*/ }),
			["Invalid Request Type \"BEGINBEGIN\"\n"]],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['SELECT FAIL 1', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	id	test_name	test_full

ORDER BY
id DESC
*/}),
			[
				[
					"..\\..\\db_framework_pq\\db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  column rtesting_table.test_full does not exist\\nLINE 1: ...esting_table\".\"id\", \"rtesting_table\".\"test_name\", \"rtesting_...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t61\n",
					"../db_framework_pq/db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  column rtesting_table.test_full does not exist\\nLINE 1: ...esting_table\".\"id\", \"rtesting_table\".\"test_name\", \"rtesting_...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t61\n"
				]
			]],
			['SELECT FAIL 2', 'websocket', '', ml(function () {/*SELECT	*/}) + ml(function () {/*
RETURN	*

ORDER BY	LIMIT
1 ASC	10
*/}),
			[
				[
					"..\\..\\db_framework_pq\\db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 2:    FROM \"\"\\n                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t18\n",
					"../db_framework_pq/db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 2:    FROM \"\"\\n                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t18\n"
				]
			]],
			['SELECT FAIL 3', 'websocket', '', ml(function () {/*SELECT
RETURN	*

ORDER BY	LIMIT
1 ASC	10
*/}),
			[
				[
					"..\\..\\common\\common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n",
					"../common/common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n"
				]
			]],
			['SELECT FAIL 4', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	*/}) + ml(function () {/*

ORDER BY	LIMIT
1 ASC	10
*/}),
			[
				[
					"..\\..\\db_framework_pq\\db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: SELECT \"rtesting_table\".\"\"\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t25\n",
					"../db_framework_pq/db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: SELECT \"rtesting_table\".\"\"\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t25\n"
				]
			]],
			['SELECT FAIL 5', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN

ORDER BY	LIMIT
1 ASC	10
*/}),
			[
				[
					"..\\..\\common\\common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query", "../common/common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query"
				]
			]],
			['SELECT FAIL 6', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	*/}) + ml(function () {/*

ORDER BY	LIMIT
1 ASC	10
*/}),
			[
				[
					"..\\..\\db_framework_pq\\db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: SELECT \"rtesting_table\".\"\"\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t25\n",
					"../db_framework_pq/db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: SELECT \"rtesting_table\".\"\"\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t25\n"
				]
			]],
			['SELECT FAIL 7', 'websocket', '', new Blob([ml(function () {/*SELECT	rtesting_table
RETURN	*/}) + ml(function () {/*

ORDER BY	LIMIT
1 ASC	10
*/})], {type: 'application/x-binary'}),
			[
				[
					"..\\..\\db_framework_pq\\db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: SELECT \"rtesting_table\".\"\"\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t25\n",
					"../db_framework_pq/db_framework.c:DB_get_column_types_for_query2: DB_get_column_types_for_query failed\nQuery failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: SELECT \"rtesting_table\".\"\"\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t25\n"
				]
			]],
			['SELECT 1', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	id	test_name

ORDER BY
id DESC
*/}),
			['id\ttest_name\ninteger\tcharacter varying(150)\n', 'TRANSACTION COMPLETED']],
			['SELECT 2', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	id	test_name
*/}),
			['id\ttest_name\ninteger\tcharacter varying(150)\n', 'TRANSACTION COMPLETED']],
			['SELECT 3', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	id	test_name

*/}),
			['id\ttest_name\ninteger\tcharacter varying(150)\n', 'TRANSACTION COMPLETED']],
			['SELECT 4', 'websocket', '', ml(function () {/*SELECT	rtesting_table
RETURN	id	test_name


*/}),
			['id\ttest_name\ninteger\tcharacter varying(150)\n', 'TRANSACTION COMPLETED']],
			['SELECT 5', 'websocket', '', new Blob([ml(function () {/*SELECT	rtesting_table
RETURN	id	test_name


*/})], {type: 'application/x-binary'}),
			['id\ttest_name\ninteger\tcharacter varying(150)\n', 'TRANSACTION COMPLETED']],
            
            
			[
                'SELECT 6',
                'websocket',
                '',
                ml(function () {/*SELECT	rtesting_table
RETURN	id	test@test


*/}),
			    [
                    'id\ttest@test\ninteger\tcharacter varying(150)\n',
                    'TRANSACTION COMPLETED'
                ]
            ],
            
            
			[
                'SELECT 7',
                'websocket',
                '',
                ml(function () {/*SELECT	rtesting_table
RETURN	id	select


*/}),
			    [
                    'id\tselect\ninteger\tcharacter varying(150)\n',
                    'TRANSACTION COMPLETED'
                ]
            ],
            
            
			['BEGIN 1', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 1', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	id	test_name
PK	id
SEQ	id

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  relation \"id\" does not exist\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 2', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 2', 'websocket', '', ml(function () {/*INSERT	ttesting_view
RETURN	id	test_name
PK	id
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			[
				[
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  cannot insert into view \"ttesting_view\"\\nHINT:  You need an unconditional ON INSERT DO INSTEAD rule or an INSTEAD OF INSERT trigger.\\n\nerror_detail\t\nerror_hint\tYou need an unconditional ON INSERT DO INSTEAD rule or an INSTEAD OF INSERT trigger.\nerror_query\t\nerror_context\t\nerror_position\t\n",
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  cannot insert into view \"ttesting_view\"\\nDETAIL:  Views that do not select from a single table or view are not automatically updatable.\\nHINT:  To enable inserting into the view, provide an INSTEAD OF INSERT trigger or an unconditional ON INSERT DO INSTEAD rule.\\n\nerror_detail\tViews that do not select from a single table or view are not automatically updatable.\nerror_hint\tTo enable inserting into the view, provide an INSTEAD OF INSERT trigger or an unconditional ON INSERT DO INSTEAD rule.\nerror_query\t\nerror_context\t\nerror_position\t\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 3', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 3', 'websocket', '', ml(function () {/*INSERTRETURN	id	test_name
PK	id
SEQ	id

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			["Invalid Request Type \"INSERTRETURN\"\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 4', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 4', 'websocket', '', ml(function () {/*INSERT	*/}) + ml(function () {/*
RETURN	id	test_name
PK	id
SEQ	id

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 2: SELECT \"id\",\"test_name\" FROM \"\" LIMIT 0;\\n                                     ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t78\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 5', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 5', 'websocket', '', ml(function () {/*INSERT
RETURN	id	test_name
PK	id
SEQ	id

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			[["..\\..\\common\\common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n", "../common/common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 6', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 6', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	*/}) + ml(function () {/*
PK	id
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 2: SELECT \"rtesting_table\".\"\" FROM \"rtesting_table\" LIMIT 0;\\n                                ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t75\n"]],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN 7', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 7', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN
PK	id
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			[["..\\..\\common\\common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query", "../common/common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 8', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 8', 'websocket', '', ml(function () {/*INSERT	rtesting_table
PK	id
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			[["..\\..\\common\\common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query", "../common/common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 9', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 9', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	test_name
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			["could not find \"PK\", malformed request?"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 10', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 10', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	test_name
PK	id

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			["could not find \"SEQ\", malformed request?"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 11', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 11', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	test_name
PK	id
SEQ

*/}),
			["No column names"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 12', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 12', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	test_name
PK	id
SEQ

id	test_name
*/}),
			["No insert data:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 13', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 13', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	test_name
PK	id
SEQ

id	test_name*/}),
			["No insert data"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 14', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 14', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	test_name
PK	id
SEQ

iπd	test_name
2	rest*/}),
			[
				[
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"iπd\" does not exist\\nLINE 2: SELECT \"iπd\",\"test_name\" FROM \"rtesting_table\" LIMIT 0;\\n               ^\\nHINT:  Perhaps you meant to reference the column \"rtesting_table.id\".\\n\nerror_detail\t\nerror_hint\tPerhaps you meant to reference the column \"rtesting_table.id\".\nerror_query\t\nerror_context\t\nerror_position\t56\n",
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"iπd\" does not exist\\nLINE 2: SELECT \"iπd\",\"test_name\" FROM \"rtesting_table\" LIMIT 0;\\n               ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t56\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 14', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT FAIL 15', 'websocket', '', new Blob([ml(function () {/*INSERT	rtesting_table
RETURN	test_name
PK	id
SEQ

iπd	test_name
2	rest*/})], {type: 'application/x-binary'}),
			[
				[
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"iπd\" does not exist\\nLINE 2: SELECT \"iπd\",\"test_name\" FROM \"rtesting_table\" LIMIT 0;\\n               ^\\nHINT:  Perhaps you meant to reference the column \"rtesting_table.id\".\\n\nerror_detail\t\nerror_hint\tPerhaps you meant to reference the column \"rtesting_table.id\".\nerror_query\t\nerror_context\t\nerror_position\t56\n",
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"iπd\" does not exist\\nLINE 2: SELECT \"iπd\",\"test_name\" FROM \"rtesting_table\" LIMIT 0;\\n               ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t56\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 15', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT 1', 'websocket', '', new Blob([ml(function () {/*INSERT	rtesting_table
RETURN	id	test_name
PK	id
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/})], {type: 'application/x-binary'}),
			['1\tBob\n2\tAlice\n3\tEve\n', 'TRANSACTION COMPLETED']],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 15', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['INSERT 2', 'websocket', '', ml(function () {/*INSERT	rtesting_table
RETURN	id	test_name
PK	id
SEQ

id	test_name
1	Bob
2	Alice
3	Eve
*/}),
			['1\tBob\n2\tAlice\n3\tEve\n', 'TRANSACTION COMPLETED']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
            
            
			[
                'BEGIN 15',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'INSERT 3',
                'websocket',
                '',
                ml(function () {/*INSERT	rtesting_table
RETURN	id	test@test
PK	id
SEQ

id	test@test
70	Bob
71	Alice
72	Eve
*/}),
			    [
                    '70\tBob\n71\tAlice\n72\tEve\n',
                    'TRANSACTION COMPLETED'
                ]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*ROLLBACK*/ }),
			    ['OK']
			],


			[
                'BEGIN 15',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
			],
			[
                'INSERT 4',
                'websocket',
                '',
                ml(function () {/*INSERT	rtesting_table
RETURN	id	select
PK	id
SEQ

id	select
70	Bob
71	Alice
72	Eve
*/}),
			    [
                    '70\tBob\n71\tAlice\n72\tEve\n',
                    'TRANSACTION COMPLETED'
			    ]
			],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*ROLLBACK*/ }),
			    ['OK']
			],


			[
                'BEGIN 15',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
			],
			[
                'INSERT 5',
                'websocket',
                '',
                ml(function () {/*INSERT	ttesting_view2
RETURN	id_1	test_name_1
PK	id_1
SEQ	

id_1	test_name_1
73	Bob
*/}),
			    [
                    '73\tBob\n',
                    'TRANSACTION COMPLETED'
			    ]
			],
			[
                'COMMIT',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
			],
            
            
			['BEGIN 16', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 1', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	tes_name

pk	set
id	test_name
1	Bobby
2	Alicia
*/}),
			[
				[
					"FATAL\nerror_text\tERROR:  column rtesting_table.tes_name does not exist\\nLINE 1: COPY (SELECT \"rtesting_table\".\"id\", \"rtesting_table\".\"tes_na...\\n                                            ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t37\n",
					"FATAL\nerror_text\tERROR:  column rtesting_table.tes_name does not exist\\nLINE 1: COPY (SELECT \"rtesting_table\".\"id\", \"rtesting_table\".\"tes_na...\\n                                            ^\\nHINT:  Perhaps you meant to reference the column \"rtesting_table.test_name\".\\n\nerror_detail\t\nerror_hint\tPerhaps you meant to reference the column \"rtesting_table.test_name\".\nerror_query\t\nerror_context\t\nerror_position\t37\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 17', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 2', 'websocket', '', ml(function () {/*UPDATE	ttesting_view
RETURN	id	test_name

pk	set
id	test_name
1	Bobby
2	Alicia
*/}),
			[
				[
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  cannot update view \"ttesting_view\"\\nHINT:  You need an unconditional ON UPDATE DO INSTEAD rule or an INSTEAD OF UPDATE trigger.\\n\nerror_detail\t\nerror_hint\tYou need an unconditional ON UPDATE DO INSTEAD rule or an INSTEAD OF UPDATE trigger.\nerror_query\t\nerror_context\t\nerror_position\t\n",
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  cannot update view \"ttesting_view\"\\nDETAIL:  Views that do not select from a single table or view are not automatically updatable.\\nHINT:  To enable updating the view, provide an INSTEAD OF UPDATE trigger or an unconditional ON UPDATE DO INSTEAD rule.\\n\nerror_detail\tViews that do not select from a single table or view are not automatically updatable.\nerror_hint\tTo enable updating the view, provide an INSTEAD OF UPDATE trigger or an unconditional ON UPDATE DO INSTEAD rule.\nerror_query\t\nerror_context\t\nerror_position\t\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 18', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 3', 'websocket', '', ml(function () {/*UPDATE
RETURN	id	test_name

pk	set
id	test_name
1	Bobby
2	Alicia
*/}),
			[["..\\..\\common\\common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n", "../common/common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 19', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 4', 'websocket', '', ml(function () {/*UPDATE	rtesting_table

pk	set
id	test_name
1	Bobby
2	Alicia
*/}),
			[["..\\..\\common\\common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query", "../common/common_util_sql.c:get_return_columns: strstr failed\nFailed to get return columns from query"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 20', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 5', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set	hash
id	test_name	hash
1	Bobby	notreallyahashbutitdoesntmatter
2	Alicia	notreallyahashbutitdoesntmatter
*/}),
			["Hashes supplied, but columns unknown"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 21', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 6', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

*/}),
			["Could not find end of column purpose headers"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 22', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 7', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
*/}),
			["Could not find end of column name headers"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 23', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 8', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
*/}),
			["No update data:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 24', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 9', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
2	test	test
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  extra data after last expected column\\nCONTEXT:  COPY temp_update, line 1: \"2\\ttest\\ttest\"\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\tCOPY temp_update, line 1: \"2\\ttest\\ttest\"\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 25', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 10', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set	set
id	test_name	id
2	test
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  missing data for column \"set_id\"\\nCONTEXT:  COPY temp_update, line 1: \"2\\ttest\"\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\tCOPY temp_update, line 1: \"2\\ttest\"\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 26', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 11', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name	id
2	test
*/}),
			["Extra column name"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 27', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 12', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set	set
id	test_name
2	test
*/}),
			["Extra column purpose"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 28', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 13', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set	set
id	test_name
2	test
*/}),
			["Extra column purpose"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 29', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 14', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set	asdf
id	test_name	id
2	test	2
*/}),
			["Invalid column purpose 'asdf'"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 30', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 15', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name	testset

pk	set
id	test_name
2	test
*/}),
			    [["FATAL\nerror_text\tERROR:  column rtesting_table.testset does not exist\\nLINE 1: ...esting_table\".\"id\", \"rtesting_table\".\"test_name\", \"rtesting_...\\n                                                             ^\\nHINT:  Perhaps you meant to reference the column \"rtesting_table.test@test\".\\n\nerror_detail\t\nerror_hint\tPerhaps you meant to reference the column \"rtesting_table.test@test\".\nerror_query\t\nerror_context\t\nerror_position\t67\n","FATAL\nerror_text\tERROR:  column rtesting_table.testset does not exist\\nLINE 1: ...esting_table\".\"id\", \"rtesting_table\".\"test_name\", \"rtesting_...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t67\n"]]
            ],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 31', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 16', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name
HASH	id

pk	set	hash
id	test_name	hash
2	test	2lkujh1234klj5hlk13j4h5lk
*/}),
			["Someone updated this record before you.:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN32', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 17', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set	set
id	test_name	testset
2	test	2lkujh1234klj5hlk13j4h5lk
*/}),
    			[["DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"testset\" does not exist\\nLINE 1: ... \"id\" AS \"pk_id\", \"test_name\" AS \"set_test_name\", \"testset\" ...\\n                                                             ^\\nHINT:  Perhaps you meant to reference the column \"rtesting_table.test@test\".\\n\nerror_detail\t\nerror_hint\tPerhaps you meant to reference the column \"rtesting_table.test@test\".\nerror_query\t\nerror_context\t\nerror_position\t105\n","DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"testset\" does not exist\\nLINE 1: ... \"id\" AS \"pk_id\", \"test_name\" AS \"set_test_name\", \"testset\" ...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t105\n"]]
            ],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 33', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 18', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name
HASH	id

pk	set	hash
id	test_name	hash
2	test	π∂ƒ©˙∆˚
*/}),
			["Someone updated this record before you.:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 19', 'websocket', '', ml(function () {/*UPDATE*/}),
			[["..\\..\\common\\common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n", "../common/common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 20', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
2	test
test
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  invalid input syntax for integer: \"test\"\\nCONTEXT:  COPY temp_update, line 2, column pk_id: \"test\"\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\tCOPY temp_update, line 2, column pk_id: \"test\"\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE FAIL 21', 'websocket', '', new Blob([ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
2	test
test
*/})], {type: 'application/x-binary'}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  invalid input syntax for integer: \"test\"\\nCONTEXT:  COPY temp_update, line 2, column pk_id: \"test\"\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\tCOPY temp_update, line 2, column pk_id: \"test\"\nerror_position\t\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*ROLLBACK*/ }),
			['OK']],
			['BEGIN 34', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE 1', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name


pk	set
id	test_name
1	Bobby
2	Alicia
*/}),
			['1\tBobby\n2\tAlicia\n', 'TRANSACTION COMPLETED']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN 35', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE 2', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
2	π∂ƒ©˙∆˚
*/}),
			['2\tπ∂ƒ©˙∆˚\n', 'TRANSACTION COMPLETED']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE 3', 'websocket', '', ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
1	Bobbie
2	Aliciay
*/}),
			['1\tBobbie\n2\tAliciay\n', 'TRANSACTION COMPLETED']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['UPDATE 4', 'websocket', '', new Blob([ml(function () {/*UPDATE	rtesting_table
RETURN	id	test_name

pk	set
id	test_name
1	Bobbie
2	Aliciay
*/})], {type: 'application/x-binary'}),
			['1\tBobbie\n2\tAliciay\n', 'TRANSACTION COMPLETED']],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			
            
            [
                'BEGIN',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
                ['OK']
            ],
			[
                'UPDATE 5',
                'websocket',
                '',
                ml(function () {/*UPDATE	rtesting_table
RETURN	id	test@test

pk	set
id	test@test
1	Bobbie
2	Alicia
*/}),
			    [
                    "1\tBobbie\n2\tAlicia\n",
                    "TRANSACTION COMPLETED"
                ]
            ],
			[
                'COMMIT',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
			],
            [
                'BEGIN',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
                ['OK']
            ],
			['UPDATE 6', 'websocket', '', ml(function () {/*UPDATE	ttesting_view2
RETURN	id_1	test_name_1

pk	set
id_1	test_name_1
1	Bobby
2	Alicia
*/}),
				["1\tBobby\n2\tAlicia\n", "TRANSACTION COMPLETED"]],
			[
                'COMMIT',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
			],
			
            
            [
                'BEGIN',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
                ['OK']
            ],
			[
                'UPDATE 6',
                'websocket',
                '',
                ml(function () {/*UPDATE	rtesting_table
RETURN	id	test@test

pk	set
id	select
1	Bobbie
2	Alicia
*/}),
			    [
                    "1\tBobbie\n2\tAlicia\n",
                    "TRANSACTION COMPLETED"
                ]
            ],
			[
                'COMMIT',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			['BEGIN 36', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['DELETE FAIL 1', 'websocket', '', ml(function () {/*DELETE rtesting_table
pk
id
1
2
3
*/}),
			[
				[
					"..\\..\\common\\common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n",
					"../common/common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN 37', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['DELETE FAIL 2', 'websocket', '', ml(function () {/*DELETE	ttesting_view

pk
id
1
2
3
*/}),
			[
				[
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  cannot delete from view \"ttesting_view\"\\nHINT:  You need an unconditional ON DELETE DO INSTEAD rule or an INSTEAD OF DELETE trigger.\\n\nerror_detail\t\nerror_hint\tYou need an unconditional ON DELETE DO INSTEAD rule or an INSTEAD OF DELETE trigger.\nerror_query\t\nerror_context\t\nerror_position\t\n",
					"DB_exec failed:\nFATAL\nerror_text\tERROR:  cannot delete from view \"ttesting_view\"\\nDETAIL:  Views that do not select from a single table or view are not automatically updatable.\\nHINT:  To enable deleting from the view, provide an INSTEAD OF DELETE trigger or an unconditional ON DELETE DO INSTEAD rule.\\n\nerror_detail\tViews that do not select from a single table or view are not automatically updatable.\nerror_hint\tTo enable deleting from the view, provide an INSTEAD OF DELETE trigger or an unconditional ON DELETE DO INSTEAD rule.\nerror_query\t\nerror_context\t\nerror_position\t\n"
				]
			]],
			['ROLLBACK', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN 38', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['DELETE FAIL 3', 'websocket', '', ml(function () {/*DELETE
pk
id
1
2
3
*/}),
			[["..\\..\\common\\common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n", "../common/common_util_sql.c:get_table_name: Invalid request\nQuery failed:\nFATAL\nerror_detail\tERROR: Failed to get table name from query.\n"]]],
			['ROLLBACK', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN 39', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['DELETE FAIL 4', 'websocket', '', ml(function () {/*DELETE	ttest@XXX	tpaste

pk
id
1
2
3
*/}),
            [
                [
                    "DB_exec failed:\nFATAL\nerror_text\tERROR:  relation \"ttest@XXX.tpaste\" does not exist\\nLINE 1: ...ete ON COMMIT DROP AS SELECT \"id\" AS \"pk_id\" FROM \"ttest@XXX...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t77\n",
    			    "DB_exec failed:\nFATAL\nerror_text\tERROR:  schema \"ttest@XXX\" does not exist\\nLINE 1: ...ete ON COMMIT DROP AS SELECT \"id\" AS \"pk_id\" FROM \"ttest@XXX...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t77\n"
                ]
            ]],
			['ROLLBACK', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['BEGIN 40', 'websocket', '', ml(function () {/*BEGIN*/ }),
			['OK']],
			['DELETE FAIL 5', 'websocket', '', ml(function () {/*DELETE	public	tpaste@XXX

pk
id
1
2
3
*/}),
			["DB_exec failed:\nFATAL\nerror_text\tERROR:  relation \"public.tpaste@XXX\" does not exist\\nLINE 1: ...ete ON COMMIT DROP AS SELECT \"id\" AS \"pk_id\" FROM \"public\".\"...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t77\n"]],
			['ROLLBACK', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			[
                'BEGIN 41',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 6',
                'websocket',
                '',
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	tes

pk	hash
id	hash
1	abc
2	abc
3	abc
*/}),
			    ["DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"tes\" does not exist\\nLINE 1: ...= MD5(COALESCE(\"id\"::text, '') || ' ' || COALESCE(\"tes\"::tex...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t99\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 42',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 7',
                'websocket',
                '',
                //two tabs right next to each other in the HASH columns
                ml(function () {/*DELETE	public	rtesting_table
HASH	id		test_name

pk	hash
id	hash
1	abc
2	abc
3	abc
*/}),
			    ["DB_exec failed:\nFATAL\nerror_text\tERROR:  zero-length delimited identifier at or near \"\"\"\"\\nLINE 1: ...= MD5(COALESCE(\"id\"::text, '') || ' ' || COALESCE(\"\"::text, ...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t99\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 43',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 8',
                'websocket',
                '',
                //no HASH columns
                ml(function () {/*DELETE	public	rtesting_table

pk	hash
id	hash
1	abc
2	abc
3	abc
*/}),
			    ["Hashes supplied, but columns unknown"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 44',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 9',
                'websocket',
                '',
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name
pk	hash
id	hash
1	abc
2	abc
3	abc
*/}),
			    ["Someone updated this record before you.:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 45',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 10',
                'websocket',
                '',
                new Blob([ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name
pk	hash
id	hash
1	abc
2	abc
3	abc
*/})], {type: 'applications/x-binary'}),
			    ["Someone updated this record before you.:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 46',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 11',
                'websocket',
                '',
                // no column types in data
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name

id	hash
1	abc
*/}),
			    ["Too many hashes"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 47',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 12',
                'websocket',
                '',
                // no column names in data
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name

pk	hash
1	abc
*/}),
			    ["DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"1\" does not exist\\nLINE 1: ...E TEMP TABLE temp_delete ON COMMIT DROP AS SELECT \"1\" AS \"pk...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t56\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 48',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 13',
                'websocket',
                '',
                // no data
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name

pk	hash
id	hash
*/}),
			    ["Rows Affected\n0\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 49',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 14',
                'websocket',
                '',
                // extra column name in data
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name

pk	hash
id	hash	id
1	abc
*/}),
			    ["Someone updated this record before you.:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 50',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 15',
                'websocket',
                '',
                // extra column type in data
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name

pk	hash	pk
id	hash
1	abc
*/}),
			    ["DB_exec failed:\nFATAL\nerror_text\tERROR:  column \"1\" does not exist\\nLINE 1: ...CT \"id\" AS \"pk_id\", ''::text AS temp_delete_hash, \"1\" AS \"pk...\\n                                                             ^\\n\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t103\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 51',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 16',
                'websocket',
                '',
                // empty hash in data (should say no hash supplied)
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name

pk	hash
id	hash
1	
*/}),
			    ["Someone updated this record before you.:\nFATAL\nerror_text\t\nerror_detail\t\nerror_hint\t\nerror_query\t\nerror_context\t\nerror_position\t\n"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 52',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE FAIL 17',
                'websocket',
                '',
                // tab between HASH line and data
                ml(function () {/*DELETE	public	rtesting_table
HASH	id	test_name
	
pk	hash
id	hash
1	
*/}),
			    ["Too many hashes"]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 53',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE 1',
                'websocket',
                '',
                new Blob([ml(function () {/*DELETE	public	rtesting_table

pk
id
1
*/})], {type: 'applications/x-binary'}),
			    ['Rows Affected\n1\n', 'TRANSACTION COMPLETED']
            ],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
            
            
			[
                'BEGIN',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE 2',
                'websocket',
                '',
                ml(function () {/*DELETE	public	rtesting_table

pk
test@test
asdf
*/}),
			    [
                    'Some of these records have already been deleted.:\n' +
                    'FATAL\n' +
                    'error_text	\n' +
                    'error_detail	\n' +
                    'error_hint	\n' +
                    'error_query	\n' +
                    'error_context	\n' +
                    'error_position	\n'
                ]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
            ],
			[
                'DELETE 3',
                'websocket',
                '',
                ml(function () {/*DELETE	public	rtesting_table

pk
select
asdf
*/}),
			    [
                    'Some of these records have already been deleted.:\n' +
                    'FATAL\n' +
                    'error_text	\n' +
                    'error_detail	\n' +
                    'error_hint	\n' +
                    'error_query	\n' +
                    'error_context	\n' +
                    'error_position	\n'
                ]
            ],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
            ],
            
            
			[
                'BEGIN 54',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
			],
			[
                'DELETE 4',
                'websocket',
                '',
                ml(function () {/*DELETE	public	rtesting_table

pk
id
2
3
*/}),
			    ['Rows Affected\n2\n', 'TRANSACTION COMPLETED']
			],
			[
                'ROLLBACK',
                'websocket',
                '',
                ml(function () {/*COMMIT*/ }),
			    ['OK']
			],


			[
                'BEGIN 55',
                'websocket',
                '',
                ml(function () {/*BEGIN*/ }),
			    ['OK']
			],
			[
                'DELETE 5',
                'websocket',
                '',
                ml(function () {/*DELETE	ttesting_view2

pk
id_1
73
*/}),
			    ['Rows Affected\n1\n', 'TRANSACTION COMPLETED']
			],
			['COMMIT', 'websocket', '', ml(function () {/*COMMIT*/ }),
			['OK']],
			['WEBSOCKET CLOSE', 'websocket end', '', '', ''],
			['Logout', 'ajax', 200, '/postage/auth', 'action=logout',
				ml(function () {/*<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB">
<head><script>window.open('/', '_self');</scr*/}) + ml(function () {/*ipt></head><body></body></html>*/ })]
		];
		//ml(function () {/*asdfasdfasdf*/})
		window.addEventListener('load', function () {
			var i, len;
			var strHTML = '';
			for (i = 0, len = Local.tests.length; i < len; i++) {
				var arrCurrent = Local.tests[i];
				var strName = arrCurrent[0];
				strHTML +=
					'<gs-block id="test' + i + '_label" class="waiting">' +
						'<label>' + strName + '</label>' +
					'</gs-block>';
			}
			document.getElementById('gridtests').innerHTML =
                '<gs-grid min-width="all {reflow}; sml {1,1,1}; med {1,1,1,1,1}; lrg {1,1,1,1,1,1,1,1};">' +
                    strHTML +
                '</gs-grid>';
			var ajax = GS.ajaxText('/postage/index.html', '', function (data, error) {
				if (!error) {
					for (i = 0, len = Local.tests.length; i < len; i++) {
						change_status(i, 'pass', 'waiting');
						if (Local.tests[i][0].indexOf('Logout') > -1) {
							Local.tests[i][5] = data;
						}
					}
					ajax = GS.ajaxText('/postage/auth', 'action=login&connname=test&username=postgres&password=password', function (data, error) {
						if (!error) {
							ajax = GS.ajaxText('/postage/0/index.html', '', function (data, error) {
								if (!error) {
									for (i = 0, len = Local.tests.length; i < len; i++) {
										if (Local.tests[i][0].indexOf('File Read 4') > -1) {
											Local.tests[i][5] = data;
										}
									}
									ajax = GS.ajaxText('/postage/auth', 'action=logout', function (data, error) {
										if (!error) {
											run_test(0);
										} else {
											change_status(0, 'waiting', 'error');
											document.getElementById('actual_status').value = ajax.status;
											document.getElementById('actual_output').value = data.error_text;
										}
									});
								} else {
									change_status(0, 'waiting', 'error');
									document.getElementById('actual_status').value = ajax.status;
									document.getElementById('actual_output').value = data.error_text;
								}
							});
						} else {
							change_status(0, 'waiting', 'error');
							document.getElementById('actual_status').value = ajax.status;
							document.getElementById('actual_output').value = data.error_text;
						}
					});
				} else {
					change_status(0, 'waiting', 'error');
					document.getElementById('actual_status').value = ajax.status;
					document.getElementById('actual_output').value = data.error_text;
				}
			});
            
            window.addEventListener('keydown', function (event) {
                if ((event.metaKey || event.ctrlKey) && ((event.keyCode || event.which) === 82)) {
                    event.preventDefault();
                    window.location = '/postage/test.html';
                }
            });

            document.getElementById('gridtests').firstElementChild.addEventListener('click', function (event) {
            	// console.log('event.target:', event.target);
            	GS.openDialogToElement(
					event.target, // element to position too
					'errorDialog', // template for the dialog
					'right', // side that the dialog should try to go to
							 //   if the dialog can't go on that side it
							 //   will try other sides
				function () {
					document.getElementById('errorDialogHeader').innerHTML = event.target.parentElement.strStatus;
					document.getElementById('errorDialogContent').value = event.target.parentElement.strErrorText;
					// after open, same as GS.openDialog
				}, function (event, strAnswer) {
					// before close, same as GS.openDialog
				});
            });
		});
		function change_status(intCurrent, strOldClass, strNewClass, strStatus, strErrorText) {
			var objLabel = document.getElementById('test' + intCurrent + '_label');
			objLabel.classList.remove(strOldClass);
			objLabel.classList.add(strNewClass);
			if (strNewClass === 'fail') {
				//GS.pushState({}, 'Postage Test Backend', '/postage/test.html');
                //GS.scrollIntoView(objLabel);
                document.getElementById('status-note').textContent = ' (ERROR)';
			} else {
                document.getElementById('status-note').textContent = ' (RUNNING)';
			}
			objLabel.strStatus = strStatus;
			objLabel.strErrorText = strErrorText;
		}
		/*
		Object.prototype.toString = function () {
			return JSON.stringify(this, true, 4);
		};
		*/
		var bol_run = true, bol_refresh = false;
		function run_test(intCurrent) {
			// console.log('run_test:', intCurrent);
			var arrCurrent = Local.tests[intCurrent];
			if (arrCurrent === undefined) {
				if (bol_run) {
					test_random = Math.random().toString().substring(2);
					for (i = 0, len = Local.tests.length; i < len; i++) {
						change_status(i, 'pass', 'waiting');
						// console.log(Local.tests[i][3], Local.tests[i][4]);
						if (Local.tests[i][4] && Local.tests[i][4].indexOf && Local.tests[i][4].indexOf('/open/test') === 0) {
							Local.tests[i][4] = '/open/test' + test_random + '.sql';
						}

						if (Local.tests[i][3] && Local.tests[i][3].indexOf && Local.tests[i][3].indexOf('/postage/0/download/open/test') === 0) {
							Local.tests[i][3] = '/postage/0/download/open/test' + test_random + '.sql';
						}

						if (Local.tests[i][3] && Local.tests[i][3].indexOf && Local.tests[i][3].indexOf('/open/test') >= 0) {
							Local.tests[i][3] = Local.tests[i][3].replace(/test([0-9]*)\.sql/gi, 'test' + test_random + '.sql');
						}
						
						if (Local.tests[i][5] && Local.tests[i][5].indexOf && Local.tests[i][5].indexOf('/postgres/open/test') >= 0) {
							Local.tests[i][5] = Local.tests[i][5].replace(/test([0-9]*)\.sql/gi, 'test' + test_random + '.sql');
						}
					}

					run_test(0);
				} else {
                    document.getElementById('status-note').textContent = ' (STOPPED)';
					GS.pushState({}, 'Postage Test Backend', '/postage/test.html');
				}
                
                if (bol_refresh === true) {
                    window.location = '/postage/test.html';
                }
                
				var num = parseInt(document.getElementById('iterations').innerText, 10);
				document.getElementById('iterations').innerText = num + 1;
				return;
			}
			var strType = arrCurrent[1], intStatusCode, strLink, strArgs, strExpectedOutput, i, arrStrActualOutput, expectedOutput;
			if (strType === 'stress') {
				change_status(intCurrent, 'waiting', 'running');
				var ajax = GS.ajaxText('/postage/auth', 'action=login&connname=test&username=postgres&password=password', function (data, error) {
					if (!error) {
						var i = 1;
						while (i <= 100) {
							(function () {
								var socket = GS.openSocket('/env/1/env');
								var j = 0, h = i;
								GS.requestFromSocket(socket, 'INFO', function (data, error, errorData) {
									if (j === -1) {
										return;
									}
									j = -1;
									var k = 0;
									GS.requestFromSocket(socket, 'RAW\nLISTEN test;', function (data, error, errorData) {
										if (k === -1) {
											return;
										}
										k = -1;
										setTimeout(function () {
											var m = 0;
											var interval = setInterval(function () {
												var l = 0;
												if ((h % 5) === 0 || Math.random() < 1) {
													GS.requestFromSocket(socket, 'RAW\nNOTIFY test;', function (data, error, errorData) {
														if (l === -1) {
															return;
													}
														l = -1;
														socket.close();
													});
												}
												m += 1;
												// console.log(h, m);
												if (m === 100) {
													clearInterval(interval);
													if (h === 100) {
														change_status(intCurrent, 'running', 'pass', ajax.status, data.error_text);
														run_test(intCurrent + 1);
													}
												}
											}, 100);
										}, 10000);
									});
								});
							})();
							i += 1;
						}

					} else {
						change_status(intCurrent, 'running', 'fail', ajax.status, data.error_text);
						document.getElementById('actual_status').value = ajax.status;
						document.getElementById('actual_output').value = data.error_text;
						run_test(intCurrent + 1);
					}
				});
				
			} else if (strType === 'ajax') {
				// console.log('ASDFASDFASDFASDF');
				if (typeof (arrCurrent[5]) === 'string') {
					arrCurrent[5] = arrCurrent[5].replace(/\r\n/gi, '\n');
				}

				var intStatusCode = arrCurrent[2];
				var strLink = arrCurrent[3];
				var strArgs = arrCurrent[4];
				var expectedOutput = arrCurrent[5];
				change_status(intCurrent, 'waiting', 'running');
				// console.log('P##########################', strArgs);
				var ajax = GS.ajaxText(strLink, strArgs, function (data, error) {
					var strResult;
					var bolMatch;

					if (!error) {
						strResult = data.replace(/\r\n/gi, '\n');
					} else {
						strResult = data.error_text;
					}

					if (typeof expectedOutput === 'function') {
						bolMatch = (expectedOutput(strResult));
					} else {
						bolMatch = (strResult === expectedOutput);
					}

					if (bolMatch && intStatusCode === ajax.status) {
						change_status(intCurrent, 'running', 'pass');
					} else {
						document.getElementById('actual_status').value = ajax.status;
						document.getElementById('actual_output').value = strResult;
						change_status(intCurrent, 'running', 'fail', ajax.status, strResult);
					}
					run_test(intCurrent + 1);
				});
			} else if (strType === 'ajax spam') {
				if (typeof arrCurrent[5] === 'string') {
					arrCurrent[5] = arrCurrent[5].replace(/\r\n/gi, '\n');
				}

				intStatusCode = arrCurrent[2];
				strLink = arrCurrent[3];
				strArgs = arrCurrent[4];
				expectedOutput = arrCurrent[5];
				change_status(intCurrent, 'waiting', 'running');

				var error_occurred = false;
				i = 1, len = 100;
				while (i <= len) {
					(function (i) {
						var ajax = GS.ajaxText(strLink, strArgs, function (data, error) {
							var strResult;
							var bolMatch;

							if (!error) {
								strResult = data.replace(/\r\n/gi, '\n');
							} else {
								strResult = data.error_text;
							}
							if (typeof expectedOutput === 'function') {
								bolMatch = (expectedOutput(strResult));
							} else {
								bolMatch = (strResult === expectedOutput);
							}

							if (bolMatch && intStatusCode === ajax.status) {
								if (i == 100) {
									change_status(intCurrent, 'running', 'pass');
								}
							} else {
								error_occurred = true;
								//// console.log('>' + intCurrent + '|' + data + '|' + error + '<');
								// console.log(ajax.status, data);
								// console.log(intStatusCode, strExpectedOutput);
								// console.log(data.error_text);
								change_status(intCurrent, 'running', 'fail', i, JSON.stringify(data));
								document.getElementById('actual_status').value = i;
								document.getElementById('actual_output').value = JSON.stringify(data);
							}
							if (i == 100) {
								run_test(intCurrent + 1);
							}
						});
					})(i)
					i += 1;
				}
			} else if (strType === 'upload') {
				arrCurrent[5] = arrCurrent[5].replace(/\r\n/gi, '\n');
				var intStatusCode = arrCurrent[2];
				var strLink = arrCurrent[3];
				var strArgs = arrCurrent[4];
				var strExpectedOutput = arrCurrent[5];
				change_status(intCurrent, 'waiting', 'running');
				var formData = new FormData();
				var blob = new Blob(['SELECT \'This is \0some\n\n tesr\r\n\r\nt \r\rsql\';'], { type: 'application/binary' });
				formData.append('file_name', strArgs);
				formData.append('file_content', blob);
				var request = new XMLHttpRequest();
				request.open('POST', strLink);
				request.onload = function () {
					request.response = request.response.replace(/\r\n/gi, '\n');
					if (request.response === strExpectedOutput && intStatusCode === request.status) {
						change_status(intCurrent, 'running', 'pass', request.status, request.response);
						run_test(intCurrent + 1);
					} else {
						change_status(intCurrent, 'running', 'fail', request.status, request.response);
						document.getElementById('actual_status').value = request.status;
						document.getElementById('actual_output').value = request.response;
						run_test(intCurrent + 1);
					}
				};
				request.send(formData);
			} else if (strType === 'websocket start') {
				change_status(intCurrent, 'waiting', 'running');
				GS.envSocket = GS.openSocket('/env/1/env');
				var i = 0;
				GS.requestFromSocket(GS.envSocket, 'INFO', function (data, error, errorData) {
					if (i === -1) {
						return;
					}
					i = -1;
					if (!error) {
						GS.envSocket.stayClosed = true;
						change_status(intCurrent, 'running', 'pass', 0, JSON.stringify(data));
						run_test(intCurrent + 1);
					} else {
						change_status(intCurrent, 'running', 'fail', 0, JSON.stringify(errorData));
						document.getElementById('actual_output').value = JSON.stringify(errorData);
						run_test(intCurrent + 1);
					}
				});
			} else if (strType === 'websocket') {
				if (typeof arrCurrent[3] === 'string') {
					arrCurrent[3] = arrCurrent[3].replace(/\r\n/gi, '\n');
				}
				var strArgs = arrCurrent[3];
				var arrStrExpectedOutput = arrCurrent[4];
				var arrStrActualOutput = [];
				change_status(intCurrent, 'waiting', 'running');
				var i = 0;
				var bolIsRead = strArgs.substring ? strArgs.substring(0, 9) === 'FILE\tREAD' : false;
				var bolIsWrite = strArgs.substring ? strArgs.substring(0, 10) === 'FILE\tWRITE' : false;
				//// console.log('strArgs: ' + strArgs);
				GS.requestFromSocket(GS.envSocket, strArgs, function (data, error, errorData) {
					if (bolIsRead || bolIsWrite) {
						var lastModified = data.substring(0, data.indexOf('\n'));
						if (!lastModified) {
							lastModified = data;
						}
						// console.log('lastModified: ' + lastModified);
						// console.log(Local.tests[intCurrent + 1][3]);
						Local.tests[intCurrent + 1][3] = Local.tests[intCurrent + 1][3]
							.replace(/\{\{CHANGESTAMP\}\}/gi, GS.encodeForTabDelimited(lastModified)); // {{CHANGESTAMP}}
						bolIsRead = false;
						bolIsWrite = false;
					}
					if (i === -1) {
						return;
					}
					arrStrActualOutput.push(data.replace(/transactionid = .*\n/gim, ''));
					i += 1;
					if (i === arrStrExpectedOutput.length ||
						data === 'TRANSACTION COMPLETED' ||
						data.indexOf('FATAL') === 0
					) {
						// console.log(i, data);
						var j, k, l, len, len1;
						for (j = 0, k = 0, len = i; j < len; j += 1, k += 1) {
							if (arrCurrent[0] === 'RAW W/NOTIFY') {
								// console.log(arrStrActualOutput[j]);
								// console.log(arrStrExpectedOutput[k]);
							}
							if (typeof (arrStrExpectedOutput[k]) === 'string') {
								//// console.log(j, arrStrActualOutput[j]);
								//// console.log(k, arrStrExpectedOutput[k]);
								if (arrStrActualOutput[j] === arrStrExpectedOutput[k] ||
									arrStrExpectedOutput[k] === 'ANYTHING' ||
									arrStrExpectedOutput[k].substring(0, 8) === 'OPTIONAL' ||
									(
										(
											arrStrExpectedOutput[k] === 'START' ||
											arrStrExpectedOutput[k] === 'END' ||
											arrStrExpectedOutput[k] === 'Failed to get canonical path' ||
											arrStrExpectedOutput[k] === 'Failed to open file for writing'
										) &&
										arrStrActualOutput[j].indexOf(arrStrExpectedOutput[k]) === 0
									)
								) {
									if (arrStrExpectedOutput[k].substring(0, 8) === 'OPTIONAL' &&
										arrStrActualOutput[j] !== arrStrExpectedOutput[k].substring(8)
									) {
										j -= 1;
									}
									error = false;
								} else {
									change_status(intCurrent, 'running', 'fail');
									error = true;
									break;
								}
							} else {
								error = true;
								var arrPossibleOutputs = arrStrExpectedOutput[k];
								for (l = 0, len1 = arrPossibleOutputs.length; l < len1; l += 1) {
									if (arrPossibleOutputs[l] == arrStrActualOutput[j]) {
										error = false;
										break;
									} else {
										error = true;
									}
								}
								if (error) {
									change_status(intCurrent, 'running', 'fail');
									break;
								}
							}
						}
						if (arrCurrent[0] === 'RAW W/NOTIFY') {
							// console.log(j - 1, k - 1, len, error);
							// console.log(arrStrActualOutput[j - 1]);
							// console.log(arrStrExpectedOutput[k - 1]);
							// console.log(btoa(unescape(encodeURIComponent(arrStrActualOutput[j - 1]))));
							// console.log(btoa(unescape(encodeURIComponent(arrStrExpectedOutput[k - 1]))));
						}
						if (error === false) {
							change_status(intCurrent, 'running', 'pass', 0, JSON.stringify(arrStrActualOutput));
							run_test(intCurrent + 1);
							i = -1;
						} else {
							change_status(intCurrent, 'running', 'fail', 0, JSON.stringify(arrStrActualOutput));
							document.getElementById('actual_output').value = JSON.stringify(arrStrActualOutput);
							run_test(intCurrent + 1);
							i = -1;
						}
					}
				});
			} else if (strType === 'websocket cancel') {
				arrCurrent[3] = arrCurrent[3].replace(/\r\n/gi, '\n');
				strArgs = arrCurrent[3];
				arrStrExpectedOutput = arrCurrent[4];
				arrStrActualOutput = [];
				change_status(intCurrent, 'waiting', 'running');
				i = 0;
				GS.requestFromSocket(GS.envSocket, strArgs, function (data, error) {
					if (i === 0 && data.indexOf('QUERY') === 0) {
					} else if (i === 1 && data.indexOf('START') === 0) {
						GS.requestFromSocket(GS.envSocket, 'CANCEL', function (data) {
							// console.log(data);
						});
					} else if (i === 2 && data.indexOf('END') === 0) {
					} else if (i === 3 && data === ml(function () {/*Query failed: FATAL
error_text	ERROR:  canceling statement due to user request\n
error_detail	
error_hint	
error_query	
error_context	
error_position	
*/})) {
						change_status(intCurrent, 'running', 'pass');
						run_test(intCurrent + 1);
					} else {
						document.getElementById('actual_status').value = i;
						document.getElementById('actual_output').value = data;
						change_status(intCurrent, 'running', 'fail');
					}
					i += 1;
				});
			} else if (strType === 'websocket end') {
				change_status(intCurrent, 'waiting', 'running');
				var i = 0;
				GS.requestFromSocket(GS.envSocket, 'SELECT	pg_catalog	pg_class\nRETURN	*\n\n', function (data, error, errorData) {
					if (i === 0) {
						i += 1;

						GS.closeSocket(GS.envSocket);
						change_status(intCurrent, 'running', 'pass');
						run_test(intCurrent + 1);
					}
				});
			} else if (strType === 'wait') {
				change_status(intCurrent, 'waiting', 'running');
				setTimeout(function () {
					change_status(intCurrent, 'running', 'pass');
					run_test(intCurrent + 1);
				}, 31000);
			}
		}
	</script>
	<style>
		.waiting {
			background-color: #0000FF;
			color: #FFFFFF;
		}
		.running {
			background-color: #FFFF00;
		}
		.fail {
			background-color: #FF0000;
			color: #FFFFFF;
		}
		.pass {
			background-color: #00FF00;
		}
	</style>
</head>
<body>
	<gs-page>
		<gs-body padded>
			<center>
                <h3>
                    Postage Test Backend<br />
                    <small><b id="iterations">0</b> Successful Iterations<b id="status-note"></b></small><br />
                    <small>The reason we go one test at a time (even though it's slower) is so that if there is a crash we know which call caused it.</small>
                </h3>
                <gs-button onclick="bol_run = false; this.parentNode.removeChild(this);" inline>
                    <b>Stop after this iteration</b>
                </gs-button>
                <gs-button onclick="if (bol_run) { bol_run = false; bol_refresh = true; this.parentNode.removeChild(this);} else { window.location = '/postage/test.html'; }" inline>
                    <b>Refresh Page after this iteration</b>
                </gs-button>
                <gs-button onclick="window.location = '/postage/test.html'" inline>
                    <b>Refresh Now</b>
                </gs-button>
                <gs-button onclick="window.open('/postage/0/action_ev?action=list');" inline>
                    <b>List Watchers</b>
                </gs-button>
                <br />
                <i><small>* -> means spam test, 100 iterations to pass</small></i>
            </center>
			<div id="gridtests"></div>
            <br />
            <label for="actual_status">Actual Status</label>
			<gs-text id="actual_status"></gs-text>
			<label for="actual_output">Actual Output</label>
			<gs-memo id="actual_output" autoresize rows="10"></gs-memo>
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
		</gs-body>
	</gs-page>
	<template id="errorDialog">
		<gs-header><h3 id="errorDialogHeader"></h3></gs-header>
		<gs-body><gs-memo id="errorDialogContent"></gs-memo></gs-body>
		<gs-footer>
			<gs-button dialogclose>Ok</gs-button>
		</gs-footer>
	</template>
</body>
</html>
